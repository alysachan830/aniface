<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aniface - Basic Example</title>
  <link rel="stylesheet" href="./index.css">
</head>
<body>
  <!-- Webcam Overlay (Top-Right Corner) -->
  <div class="webcam-overlay">
    <video id="webcam" autoplay playsinline></video>
  </div>

  <div class="container">

    <!-- Main Layout Grid -->
    <div class="demo-grid">
      <!-- Left Column: Controls -->
      <div class="panel">
          <div class="blendshapes-sliders">
              <h3>Blendshapes</h3>

              <!-- Eye Blink Slider -->
              <div class="slider-group">
                  <label>
                      <span>Eye Blink</span>
                      <span id="eyeBlink-value">1.2x</span>
                  </label>
                  <input
                          type="range"
                          id="eyeBlink-slider"
                          min="0.5"
                          max="2.0"
                          step="0.1"
                          value="1.2"
                  />
              </div>

              <!-- Jaw Open Slider -->
              <div class="slider-group">
                  <label>
                      <span>Jaw Open</span>
                      <span id="jawOpen-value">1.0x</span>
                  </label>
                  <input
                          type="range"
                          id="jawOpen-slider"
                          min="0.5"
                          max="2.0"
                          step="0.1"
                          value="1.0"
                  />
              </div>

              <!-- Smile Slider -->
              <div class="slider-group">
                  <label>
                      <span>Smile</span>
                      <span id="smile-value">1.1x</span>
                  </label>
                  <input
                          type="range"
                          id="smile-slider"
                          min="0.5"
                          max="2.0"
                          step="0.1"
                          value="1.1"
                  />
              </div>
          </div>
          <div>
              <h3>Other Options</h3>
              <!-- FOV Slider -->
              <div class="slider-group">
                  <label>
                      <span>FOV (Field of View)</span>
                      <span id="fov-value">60Â°</span>
                  </label>
                  <input
                          type="range"
                          id="fov-slider"
                          min="30"
                          max="90"
                          step="5"
                          value="60"
                  />
              </div>

              <!-- Scale Slider -->
              <div class="slider-group">
                  <label>
                      <span>Scale</span>
                      <span id="scale-value">1.0x</span>
                  </label>
                  <input
                          type="range"
                          id="scale-slider"
                          min="0.5"
                          max="3.0"
                          step="0.1"
                          value="1.0"
                  />
              </div>
          </div>

        <!-- Code Viewer Section -->
        <div class="code-section">
          <div class="code-block">
            <code id="config-code">const avatar = new FacialAvatar({
  videoElement: video,
  canvasElement: canvas,
  modelPath: './examples/raccoon_head_small.glb',
  fov: 60,
  blendshapeMultipliers: {
    eyeBlinkLeft: 1.2,
    eyeBlinkRight: 1.2,
    jawOpen: 1.0,
    mouthSmile: 1.1
  },
  modelOptions: {
    scale: 1.0
  }
})</code>
          </div>
            <button id="copyBtn" class="btn-copy">ðŸ“‹ Copy</button>
        </div>
      </div>

      <!-- Right Column: Avatar -->
      <div class="panel">
        <canvas id="avatar"></canvas>
        
        <!-- Stats Bar -->
        <div class="stats-bar">
          <div class="stats-info">
            <span>FPS: <span id="fps-value">--</span></span>
            <span>Model: <span id="model-name">Raccoon</span></span>
          </div>
          <button id="toggleBtn" class="btn-secondary" disabled>Stop</button>
        </div>

        <!-- Status Display -->
        <div id="status" class="status status-loading">
          <div class="spinner"></div>
          <span>Initializing...</span>
        </div>
      </div>
    </div>

    <div class="footer">
      Built with <a href="https://github.com/google/mediapipe">MediaPipe</a> and 
      <a href="https://threejs.org/">Three.js</a>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast">Code copied!</div>

  <script type="module" src="./index.js"></script>
</body>
</html>

